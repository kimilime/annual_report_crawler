# Annual Report Crawler - Web界面使用指南

## 🌐 Web界面特性

本项目提供了友好的Web界面，让您无需使用命令行即可轻松下载年报！

### ✨ 主要功能
- 🎯 **可视化操作** - 通过网页界面输入股票代码和年份
- 📊 **实时进度** - 实时显示下载进度和当前处理股票
- 📋 **运行日志** - 实时查看详细的运行日志
- 📥 **一键下载** - 下载完成后可直接点击下载文件
- 📱 **响应式设计** - 支持手机和平板访问

## 🚀 快速启动

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 启动Web服务器
```bash
python web_app.py
```

### 3. 打开浏览器
访问 `http://localhost:5000`

## 💡 使用方法

### 输入股票代码
支持两种格式：
- **每行一个股票代码**：
  ```
  000001
  600519
  AAPL
  ```
- **逗号分隔**：
  ```
  000001,600519,AAPL
  ```

### 输入年份
支持多种格式：
- 单年份：`2023`
- 多年份：`2022,2023`
- 连续年份：`2020,2021,2022,2023`

### 支持的股票类型
- **A股主板**：6位数字代码（如：000001, 600519）
- **A股科创板**：688开头（如：688111, 688036）
- **A股创业板**：300开头（如：300750, 300122）
- **港股**：5位数字代码（如：00700, 00939）
- **美股**：字母代码（如：AAPL, MSFT, GOOGL）

## 📊 界面说明

### 1. 下载配置区域
- 输入股票代码和年份
- 设置下载目录（默认：annual_reports）
- 点击"开始下载"按钮

### 2. 进度显示区域
- 总体进度条
- 当前处理的股票
- 已完成/总股票数量

### 3. 运行日志区域
- 实时显示详细的运行日志
- 绿色终端风格，易于阅读
- 自动滚动到最新日志

### 4. 下载结果区域
- 显示成功下载的文件
- 显示失败的任务和错误信息
- 提供一键下载按钮

## 🔧 技术特性

### 后端架构
- **Flask Web框架** - 轻量级Python Web服务器
- **多线程处理** - 后台异步执行下载任务
- **实时通信** - 通过AJAX实时更新状态
- **脚本调用** - 完全复用现有的年报下载脚本

### 前端架构
- **响应式设计** - 适配各种屏幕尺寸
- **现代UI** - 渐变色彩和流畅动画
- **实时更新** - 每秒更新下载状态
- **用户友好** - 清晰的进度提示和错误处理

## 🛠️ 高级用法

### 自定义端口
```bash
# 修改 web_app.py 中的端口设置
app.run(debug=True, host='0.0.0.0', port=8080)
```

### 网络访问
默认配置允许局域网访问，其他设备可通过以下地址访问：
```
http://[您的IP地址]:5000
```

### 批量下载
- 可以同时输入多个股票代码
- 支持不同类型股票混合下载
- 自动识别股票类型并使用相应下载策略

## 📁 文件结构

```
annual_report_crawler/
├── web_app.py                    # Web应用主文件
├── annual_report_downloader.py   # 原始下载脚本（保持不变）
├── templates/
│   └── index.html               # Web界面模板
├── requirements.txt             # 依赖包列表
└── annual_reports/              # 下载文件目录
    ├── A股主板/
    ├── A股科创板/
    ├── A股创业板/
    ├── 港股/
    └── US/
```

## 🚨 注意事项

1. **保持原脚本不变** - Web界面只是调用原脚本，不修改任何核心逻辑
2. **端口占用** - 确保5000端口未被占用
3. **权限问题** - 确保有文件写入权限
4. **网络访问** - 确保可以访问相关股票数据网站
5. **浏览器兼容** - 推荐使用Chrome、Firefox、Safari等现代浏览器

## 🆚 Web界面 vs 命令行

| 特性 | Web界面 | 命令行 |
|------|---------|--------|
| 易用性 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 可视化 | ⭐⭐⭐⭐⭐ | ⭐ |
| 实时反馈 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 批处理 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 自动化 | ⭐⭐ | ⭐⭐⭐⭐⭐ |

## 🔄 更新日志

### v1.0.0
- ✨ 初始Web界面发布
- 🎯 支持所有股票类型的可视化下载
- 📊 实时进度和日志显示
- 📥 一键文件下载功能

---

**Annual Report Crawler - Developed by Terence WANG (2025)** 